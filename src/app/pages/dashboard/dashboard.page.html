<ion-menu side="end" contentId="main-content" (ionWillClose)="cerrarMenu()">

  <ion-header>
    <ion-toolbar class="pastel">
      <ion-title><ion-img src="../../../assets/img/Logo App Vehiculos.png"></ion-img></ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content class="pastel-to-blue">
    <ion-row class="ion-margin-top mt-3 blue round-corner-up">
      <ion-col class="ion-margin-top" size="12">
        <h3 class="ion-margin-top" (click)="cerrarMenu()" [routerLink]="['/userdata']" class="flex ion-align-items-center"><ion-icon class="ion-margin-end" size="large" src="../../../assets/icons/person-outline.svg"></ion-icon>{{'dashboard.user_data'|translate}}</h3>
        <h3 class="ion-margin-top" (click)="cerrarMenu()" [routerLink]="['/#']" class="flex ion-align-items-center"><ion-icon class="ion-margin-end" size="large" src="../../../assets/icons/cog-outline.svg"></ion-icon>{{'dashboard.adjust_notifications'|translate}}</h3>
        <h3 class="ion-margin-top" (click)="cerrarMenu()" [routerLink]="['/#']" class="flex ion-align-items-center"><ion-icon class="ion-margin-end" size="large" src="../../../assets/icons/cloud-upload-outline.svg"></ion-icon>{{'dashboard.adjust_backup'|translate}}</h3>
        <h3 class="ion-margin-top" (click)="cerrarMenu()" [routerLink]="['/#']" class="flex ion-align-items-center"><ion-icon class="ion-margin-end" size="large" src="../../../assets/icons/help-outline.svg"></ion-icon>{{'dashboard.faqs'|translate}}</h3>
        <h3 class="ion-margin-top" (click)="cerrarMenu()" [routerLink]="['/#']" class="flex ion-align-items-center"><ion-icon class="ion-margin-end" size="large" src="../../../assets/icons/alert-outline.svg"></ion-icon>{{'dashboard.point_out_problem'|translate}}</h3>
        <h3 class="ion-margin-top" (click)="cerrarMenu()" [routerLink]="['/#']" class="flex ion-align-items-center"><ion-icon class="ion-margin-end" size="large" src="../../../assets/icons/share-social-outline.svg"></ion-icon>{{'dashboard.like_share'|translate}}</h3>
        <h3 class="ion-margin-top" (click)="cerrarMenu()" [routerLink]="['/useterms']" [queryParams]="{ goBack: 'dashboard' }" class="flex ion-align-items-center"><ion-icon class="ion-margin-end" size="large" src="../../../assets/icons/information-circle-outline.svg"></ion-icon>{{'dashboard.user_terms'|translate}}</h3>
        <h3 class="ion-margin-top" (click)="cerrarMenu()" [routerLink]="['/privacy']" [queryParams]="{ goBack: 'dashboard' }" class="flex ion-align-items-center"><ion-icon class="ion-margin-end" size="large" src="../../../assets/icons/key-outline.svg"></ion-icon>{{'dashboard.privacity'|translate}}</h3>
        <h3 class="ion-margin-top" (click)="cerrarMenu()" [routerLink]="['/#']" class="flex ion-align-items-center"><ion-icon class="ion-margin-end" size="large" src="../../../assets/icons/analytics-outline.svg"></ion-icon>{{'dashboard.export_data'|translate}}</h3>
        <h3 class="ion-margin-top" (click)="endSession()" class="flex ion-align-items-center"><ion-icon class="ion-margin-end" size="large" src="../../../assets/icons/exit-outline.svg"></ion-icon>{{'dashboard.close_session'|translate}}</h3>
      </ion-col>
    </ion-row>
    <ion-row class="ion-margin-top">
      <ion-col class="ion-text-center" size="12">
          <ion-icon (click)="cerrarMenu()" class="orange-icon" src="../../../assets/icons/arrow-forward-circle-outline.svg"></ion-icon>
      </ion-col>
    </ion-row>
  </ion-content>
</ion-menu>

<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar class="pastel">
      <ion-row class="ion-justify-content-center">
        <ion-col size="10">
          <ion-img src="../../../assets/img/Logo App Vehiculos.png"></ion-img>
        </ion-col>
      </ion-row>
      <ion-buttons slot="end">
        <ion-menu-button (click)="HideBanner()" class="zoom-2"></ion-menu-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <!-- CONTENT 1 - NO VEHICLES -->
  <ion-content *ngIf="!creatingElement && vehiclesArray.length < 1" [@main] class="pastel-to-green" [ngStyle]="{'--padding-bottom.px':calculatePadding()}">
    <app-userdataview></app-userdataview>
    <ion-row class="green round-corner-up ion-padding-top height-22">
      <ion-col size="12">
        <h1 class="no-vehicles-text ion-margin-end" translate="mainpage.main_text"></h1>
      </ion-col>
      <ion-col size="12" class="ion-justify-content-center flex">
          <ion-img class="arrow"
          src="../../../assets/img/Logo Flecha Carretera 1.png"
          alt="street arrow"
        ></ion-img>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col class="ion-text-center" size="12">
          <ion-icon (click)="createElement()" class="orange-icon" src="../../../assets/icons/add-circle-outline.svg"></ion-icon>
      </ion-col>
    </ion-row>
  </ion-content>

    <!-- CONTENT 1 - VEHICLES -->
    <ion-content *ngIf="!creatingElement && vehiclesArray.length > 0" [@main] class="brown" [ngStyle]="{'--padding-bottom.px':calculatePadding()}">
      <app-userdataview></app-userdataview>

      <ion-row *ngIf="vehiclesArray.length>0">
        <ion-col>
          <ion-accordion-group class="ion-margin-top">

            <ion-accordion *ngFor="let vehicle of vehiclesArray" class="ion-margin-top main-accordion" value="{{vehicle.brandOrModel}}">
              <ion-item slot="header" class="green">
                <ion-icon *ngIf="vehicle.typeOfVehicle === '2W'" slot="start" src="../../../assets/icons/bicycle-outline.svg"></ion-icon>
                <ion-icon *ngIf="vehicle.typeOfVehicle === '4W'" slot="start" src="../../../assets/icons/car-sport-outline.svg"></ion-icon>
                <ion-label>{{vehicle.brandOrModel}}</ion-label>
              </ion-item>
              <div slot="content">
                <!--DATOS DEL VEHÍCULO-->
                <ion-accordion-group class="zoom09">
                  <ion-accordion [disabled]="false" value="vehicleData">
                    <ion-item slot="header" color="darkblue">
                      <ion-icon class="ion-margin-end" src="../../../assets/icons/clipboard-outline.svg"></ion-icon><ion-label>{{'mainpage.data_of_vehicle'|translate}}</ion-label>
                    </ion-item>
                    <div slot="content">

                      <ion-row class="gray">

                        <ion-col *ngIf="vehicle.typeOfVehicle === '4W'" class="ion-padding-start" size="3">
                          <ion-icon class="zoom-4 ion-align-items-center" src="../../../assets/icons/car-sport-outline.svg"></ion-icon>
                        </ion-col>
                        <ion-col *ngIf="vehicle.typeOfVehicle === '2W'" class="ion-padding-start" size="3">
                          <ion-icon class="zoom-4 ion-align-items-center" src="../../../assets/icons/bicycle-outline.svg"></ion-icon>
                        </ion-col>
                        <ion-col class="ion-align-items-center" size="9">
                          <h2>{{vehicle.brandOrModel}}</h2>
                        </ion-col>
                        <ion-col size="3"></ion-col>



                        <ion-col class="ion-padding-start ion-padding-end ion-margin-top" size="12">
                          <ion-item class="rounded-inputs">
                            <ion-input label="{{'newvehicle.brand_or_model'|translate}}" label-placement="floating"[readonly]="!editingVehicle" [(ngModel)]="vehicle.brandOrModel" type="text"></ion-input>
                          </ion-item>
                        </ion-col>
                        <ion-col class="ion-padding-start ion-padding-end" size="12">
                          <ion-item class="rounded-inputs">
                            <ion-input label="{{'newvehicle.car_registration'|translate}}" label-placement="floating"[readonly]="!editingVehicle" [(ngModel)]="vehicle.carRegistration"  type="text"></ion-input>
                          </ion-item>
                        </ion-col>
                        <ion-col class="ion-padding-start ion-padding-end" size="12">
                          <ion-item class="rounded-inputs">
                            <ion-input label="{{'newvehicle.date_of_buy'|translate}}" label-placement="floating"[readonly]="!editingVehicle" [(ngModel)]="vehicle.dateOfBuy"  type="date"></ion-input>
                          </ion-item>
                        </ion-col>
                        <ion-col class="ion-padding-start ion-padding-end" size="12">
                          <ion-item class="rounded-inputs">
                            <ion-input label="{{ 'newvehicle.km_of_buy' | translate }}" label-placement="floating"[readonly]="!editingVehicle" [(ngModel)]="vehicle.kmOfBuy" type="text"></ion-input>
                          </ion-item>
                        </ion-col>

                        <ion-col class="ion-padding-start ion-padding-end" size="12">
                          <ion-item class="rounded-inputs">
                            <ion-input label="{{ 'newvehicle.type_of_fuel' | translate }}" label-placement="floating"[readonly]="!editingVehicle" [(ngModel)]="vehicle.typeOfFuel" type="text"></ion-input>
                          </ion-item>
                        </ion-col>

                        <ion-col class="ion-padding-start ion-padding-end" size="12">
                          <ion-item class="rounded-inputs">
                            <ion-input label="{{ 'newvehicle.insurance_company' | translate }}" label-placement="floating"[readonly]="!editingVehicle" [(ngModel)]="vehicle.insuranceCompany" type="text"></ion-input>
                          </ion-item>
                        </ion-col>

                        <ion-col class="ion-padding-start ion-padding-end" size="12">
                          <ion-item class="rounded-inputs">
                            <ion-input label="{{ 'newvehicle.insurance_policy' | translate }}" label-placement="floating" [readonly]="!editingVehicle" [(ngModel)]="vehicle.insurancePolicy" type="text"></ion-input>
                          </ion-item>
                        </ion-col>

                        <ion-col class="ion-padding-start ion-padding-end" size="12">
                          <ion-item class="rounded-inputs">
                            <ion-input label="{{ 'newvehicle.insurance_renewal_date' | translate }}" label-placement="floating" [readonly]="!editingVehicle" [(ngModel)]="vehicle.insuranceRenewalDate" type="text"></ion-input>
                          </ion-item>
                        </ion-col>

                        <ion-col class="ion-padding-start ion-padding-end" size="12">
                          <ion-item class="rounded-inputs">
                            <ion-input label="{{ 'newvehicle.roadside_assistance_number' | translate }}" label-placement="floating" [readonly]="!editingVehicle" [(ngModel)]="vehicle.roadsideAssistanceNumber" type="text"></ion-input>
                          </ion-item>
                        </ion-col>

                        <ion-col *ngIf="!editingVehicle" (click)="deleteVehicle(vehicle)" class="ion-margin-top ion-margin-bottom ion-text-center" size="6">
                          <ion-icon color="danger" size="large" src="../../../assets/icons/trash-outline.svg"></ion-icon>
                        </ion-col>
                        <ion-col *ngIf="!editingVehicle" (click)="editVehicle(vehicle)"  class="ion-margin-top ion-margin-bottom ion-text-center" size="6">
                          <ion-icon  size="large" src="../../../assets/icons/pencil-outline.svg"></ion-icon>
                        </ion-col>


                      </ion-row>
                    </div>
                  </ion-accordion>
                </ion-accordion-group>
                <!--EVENTOS-->
                <!--RECORDATORIOS-->


              </div>
            </ion-accordion>
          </ion-accordion-group>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="ion-text-center" size="12">
            <ion-icon (click)="createElement()" class="orange-icon" src="../../../assets/icons/add-circle-outline.svg"></ion-icon>
        </ion-col>
      </ion-row>
    </ion-content>



   <!-- CONTENT 2 -->
  <ion-content *ngIf="creatingElement" [@main] class="brown" [ngStyle]="{'--padding-bottom.px':calculatePadding()}">

    <app-userdataview></app-userdataview>

    <ion-row>
      <ion-col class="ion-text-center ion-margin-top ion-padding-top" size="12">
        <ion-button class="button-create color1" size="large">
          <ion-icon class="zoom-2" slot="start" src="../../../assets/icons/car-sport-outline.svg"></ion-icon>
          {{'mainpage.vehicle'|translate}}
        </ion-button>
      </ion-col>
      <ion-col class="ion-text-center" size="12">
        <ion-button class="button-create color2" size="large">
          <ion-icon class="zoom-2" slot="start" src="../../../assets/icons/create-outline.svg"></ion-icon>
          {{'mainpage.event'|translate}}
        </ion-button>
      </ion-col>
      <ion-col class="ion-text-center" size="12">
        <ion-button class="button-create color3" size="large">
          <ion-icon class="zoom-2" slot="start" src="../../../assets/icons/calendar-outline.svg"></ion-icon>
          {{'mainpage.recordatory'|translate}}
        </ion-button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col class="ion-text-center" size="12">
          <ion-icon (click)="createElement()" class="orange-icon" src="../../../assets/icons/return-up-back-outline.svg"></ion-icon>
      </ion-col>
    </ion-row>

  </ion-content>

</div>



<ion-content class="loading-content" *ngIf="isLoading" >
  <ion-row class="ion-align-items-center ion-text-center height-100">
    <ion-col>
      <span class="loader"></span>
    </ion-col>
  </ion-row>
</ion-content>





